name: Tests

# This uses workflows in a different repo, refer to:
# https://docs.github.com/en/actions/using-workflows/reusing-workflows#calling-a-reusable-workflow

# This runs sailbot workspace workflows and actions.
# Runs the Tests Definitions workflow in sailbot_workspace
   
# Run condition
on:
  push:
    branches:
      - main
      - raye
  pull_request:
  workflow_dispatch:
  schedule:
    # Every Friday at 1:00am UTC
    - cron: '0 1 * * 5'
  
jobs:
# Calls tests in sailbot_workspace 
# https://github.com/UBCSailbot/sailbot_workspace
  tests:
        uses: UBCSailbot/sailbot_workspace/.github/workflows/test_definitions.yml@user/colinli02/11-Publish-ROS-package-actions_FINAL
        with:
            repository: ${{ github.event.repository.name }}
            disable-vcs: false
